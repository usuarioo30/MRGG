<div class="container mt-4 mb-4">
  <div class="card shadow-sm">
    <div class="card-header text-white">
      <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
        <h5 class="mb-0">Lista de Solicitudes</h5>
      </div>
    </div>

    <div class="card-body">
      <div *ngIf="solicitudes.length === 0" class="alert alert-warning text-center mb-0" role="alert">
        <b>No hay solicitudes disponibles.</b>
      </div>

      <div class="table-responsive" *ngIf="solicitudes.length > 0">
        <table class="table table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Estado</th>
              <th scope="col">Usuario</th>
              <th *ngIf="rol === 'USER'" scope="col">Acciones</th>
            </tr>
          </thead>
          <tbody>
            @for (solicitud of solicitudes; track solicitud.id) {
            <tr>
              <td>{{ solicitud.id }}</td>
              <td>
                <span class="badge bg-secondary">{{ solicitud.estado }}</span>
              </td>
              <td>
                <span class="badge bg-secondary">{{ usernameBySolicitud(solicitud.id) }}</span>
              </td>
              <td *ngIf="rol === 'USER'">
                <button type="button" class="btn btn-success me-1" *ngIf="solicitud.estado.toString() === 'PENDIENTE'">
                  Aceptar
                </button>
                <button type="button" class="btn btn-danger" *ngIf="solicitud.estado.toString() === 'PENDIENTE'">
                  Rechazar
                </button>
              </td>
            </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<button type="button" class="btn btn-secondary volver ms-5 mb-2" (click)="volver()"><i class="bi bi-arrow-left"></i>
  Volver
</button>